<html>
<head>
	<link rel="stylesheet" href="grocery.css">
</head>

<body>
	<h1>Grocery List</h1> 
    <main>
        <ul id="grocerylist">
        </ul>
    </main>

    <aside>
       <label for="grocerybox">Grocery Item</label>
       <input type="text" id="grocerybox" size=40 value="grocery">
       <select id="category">
           <option>Produce</option>
           <option>Snacks</option>
           <option>Canned</option>
           <option>Meat</option>
       </select>
       <button onclick="addItem()">New</button>
    </aside>

    <script src="grocery.js" type="text/javascript"></script>
    <script src="http://reputablejournal.com/CS130/listsaver.js" type="text/javascript"></script>        
    <script type="text/javascript">
    window.onload = function() { restoreList('grocerylist',doneTask) };
    var taskCount = 10;

doneTask = function() {
    // this is the box that was clicked
    if (this.checked) {
        this.parentNode.classList.add("done");
    } else {
      this.parentNode.classList.remove("done");
    }

    localSave('grocerylist')
}

addItem = function() {
    var newli;
    task = document.querySelector("#grocerybox");
    taskList = document.querySelector("#grocerylist");
    categoryValue = document.querySelector("#category").value;
    taskText = task.value;
    //
    newli = document.createElement('li');
    newli.className = categoryValue;
    newcb = document.createElement('input');
    newcb.type = 'checkbox';
    newcb.onclick = doneTask;
    newli.appendChild(newcb);
    t = document.createTextNode(taskText);
    newli.appendChild(t);
    taskList.appendChild(newli);
    //
    task.value = "";
    localSave('grocerylist')
}
    </script>
</body>

</html>
